{"mappings":"gfACA,IAAAA,EAAAC,EAAA,sBAIMC,EAAOC,SAASC,cAAc,SAGhCC,EAAQ,EAMZ,SAASC,EAAcC,EAAGC,GACxB,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC3BC,YAAW,WACaC,KAAKC,SAAW,GAEpCJ,EAAQ,CAAEH,EAAAA,EAAGQ,MAAAP,IAEbG,EAAO,CAAEJ,EAAAA,EAAGQ,MAAAP,MAEbA,MAZPR,EAAAgB,OAAOC,KAAK,kDAoDZf,EAAKgB,iBAAiB,UAnCE,SAAAC,GACtBA,EAAMC,iBAEN,IAAgCC,EAAAF,EAAMG,cAAcC,SAA5CC,EAAwBH,EAAxBG,MAAOC,EAAiBJ,EAAjBI,KAAMC,EAAWL,EAAXK,OAEfC,EAAaC,OAAOJ,EAAMK,OAC1BC,EAAYF,OAAOH,EAAKI,OACxBE,EAAmBH,OAAOF,EAAOG,OAGvC,GAAIF,GAAc,GAAKG,GAAa,GAAKC,GAAoB,EAK3D,OAJAP,EAAMK,MAAQ,KACdJ,EAAKI,MAAQ,KACbH,EAAOG,MAAQ,KAERG,EAAAC,OAAOC,QACZ,kCACA,wCACA,oBAIJ7B,EAAQsB,EACR,IAAK,IAAIQ,EAAI,EAAGA,GAAKJ,EAAkBI,IACrC7B,EAAc6B,EAAG9B,GACd+B,MAAK,SAAAC,OAAG9B,EAAC8B,EAAD9B,EAAG+B,EAAKD,EAALtB,MACVf,EAAAgB,OAAOuB,QAAS,qBAA4BC,OAARjC,EAAE,QAAYiC,OAANF,EAAM,UAEnDG,OAAM,SAAAJ,OAAG9B,EAAC8B,EAAD9B,EAAGmC,EAAKL,EAALtB,MACXf,EAAAgB,OAAOkB,QAAS,oBAA2BM,OAARjC,EAAE,QAAYiC,OAANE,EAAM,UAErDrC,GAASyB","sources":["src/js/03-promises.js"],"sourcesContent":["// Initializing Notiflix - Notify and Report modules\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport { Report } from 'notiflix/build/notiflix-report-aio';\n\n// Selecting input form\nconst form = document.querySelector('.form');\n\n// Initializing timer for promises generation delay\nlet timer = 0;\n\n// Letting user know, that all input values must be greater than 0\nNotify.info('Please input values greater than 0. Thank You!');\n\n// Function for generating promises\nfunction createPromise(i, timer) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      const shouldResolve = Math.random() > 0.3;\n      if (shouldResolve) {\n        resolve({ i, timer });\n      } else {\n        reject({ i, timer });\n      }\n    }, timer);\n  });\n}\n\n// Function for handling form input data and using callback for generating promises\nconst promisesHandler = event => {\n  event.preventDefault();\n\n  const { delay, step, amount } = event.currentTarget.elements;\n\n  const firstDelay = Number(delay.value);\n  const stepDelay = Number(step.value);\n  const amountOfPromises = Number(amount.value);\n\n  // Checking for valid input - values greater than 0\n  if (firstDelay <= 0 || stepDelay <= 0 || amountOfPromises <= 0) {\n    delay.value = null;\n    step.value = null;\n    amount.value = null;\n\n    return Report.failure(\n      'Oops! I did it again... Or not?',\n      'All values must be greater than zero!',\n      'If you say so...'\n    );\n  }\n\n  timer = firstDelay;\n  for (let i = 1; i <= amountOfPromises; i++) {\n    createPromise(i, timer)\n      .then(({ i, timer }) => {\n        Notify.success(`Fulfilled promise ${i} in ${timer}ms`);\n      })\n      .catch(({ i, timer }) => {\n        Notify.failure(`Rejected promise ${i} in ${timer}ms`);\n      });\n    timer += stepDelay;\n  }\n};\n\nform.addEventListener('submit', promisesHandler);\n"],"names":["$h6c0i","parcelRequire","$ce04d3a99e08e73b$var$form","document","querySelector","$ce04d3a99e08e73b$var$timer","$ce04d3a99e08e73b$var$createPromise","i","timer1","Promise","resolve","reject","setTimeout","Math","random","timer","Notify","info","addEventListener","event","preventDefault","_elements","currentTarget","elements","delay","step","amount","firstDelay","Number","value","stepDelay","amountOfPromises","$fivgP","Report","failure","i1","then","param","timer2","success","concat","catch","timer3"],"version":3,"file":"03-promises.b9373588.js.map"}